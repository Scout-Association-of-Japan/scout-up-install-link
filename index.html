<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BoyScout UP! Install Link</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            padding-top: 20vh;
        }

        .message {
            font-size: 1.2em;
            line-height: 2em;
        }
    </style>
    <script>
        window.onload = function () {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;

            if (/iPhone|iPad|iPod/.test(userAgent)) {
                // iOS: ã‚¢ãƒ—ãƒªãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®å ´åˆã¯ã‚¢ãƒ—ãƒªã‚’é–‹ãã€æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å ´åˆã¯App Storeã¸
                tryOpenApp("scoutup://", "https://apps.apple.com/jp/app/id6744021399");
            } else if (/Android/.test(userAgent)) {
                // Android: ã‚¢ãƒ—ãƒªãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®å ´åˆã¯ã‚¢ãƒ—ãƒªã‚’é–‹ãã€æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å ´åˆã¯Google Play Storeã¸
                tryOpenApp("intent://open#Intent;scheme=scoutup;package=org.ScoutAssociationofJapan.scoutup;end", "https://play.google.com/store/apps/details?id=org.ScoutAssociationofJapan.scoutup");
            } else {
                // PCãªã©ãã®ä»–ã®ãƒ‡ãƒã‚¤ã‚¹
                document.getElementById("message").style.display = "block";
            }
        };

        function tryOpenApp(appUrl, storeUrl) {
            // ã‚¢ãƒ—ãƒªã‚’é–‹ãè©¦è¡Œ
            const startTime = Date.now();
            window.location.href = appUrl;

            // ä¸€å®šæ™‚é–“å¾Œã«ã‚¢ãƒ—ãƒªãŒé–‹ã‹ãªã‹ã£ãŸå ´åˆã¯ã‚¹ãƒˆã‚¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
            setTimeout(function() {
                // ãƒšãƒ¼ã‚¸ãŒã¾ã ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆã‚¢ãƒ—ãƒªãŒé–‹ã‹ãªã‹ã£ãŸï¼‰å ´åˆã¯ã‚¹ãƒˆã‚¢ã¸
                if (Date.now() - startTime < 2500) {
                    window.location.href = storeUrl;
                }
            }, 2000);
        }
    </script>
</head>

<body>
    <div id="message" class="message" style="display: none;">
        <strong>BoyScout UP!</strong>ã¯ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã§ã™ã€‚<br />
        ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ğŸ“±
    </div>
</body>

</html>